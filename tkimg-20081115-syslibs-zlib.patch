diff -ur tkimg-20081115/libz/tcl/configure.in tkimg-20081115.libz/libz/tcl/configure.in
--- tkimg-20081115/libz/tcl/configure.in	2007-10-13 01:39:51.000000000 +0200
+++ tkimg-20081115.libz/libz/tcl/configure.in	2008-11-15 18:22:45.000000000 +0100
@@ -47,16 +47,12 @@
 #-----------------------------------------------------------------------
 
 TEA_ADD_SOURCES([zlibtcl.c zlibtclStubInit.c])
-TEA_ADD_SOURCES([../adler32.c	../compress.c	../crc32.c])
-TEA_ADD_SOURCES([../deflate.c	../gzio.c	../infback.c])
-TEA_ADD_SOURCES([../inffast.c	../inflate.c	../inftrees.c])
-TEA_ADD_SOURCES([../trees.c	../uncompr.c	../zutil.c])
 
 TEA_ADD_HEADERS([zlibtcl.h zlibtclDecls.h])
 TEA_ADD_HEADERS([zlibtclDeclsMask.h zlibtclDeclsUnmask.h])
 
 TEA_ADD_INCLUDES([-I\"`\${CYGPATH} \${srcdir}`\"])
-TEA_ADD_LIBS([])
+TEA_ADD_LIBS([-lz])
 TEA_ADD_CFLAGS([])
 TEA_ADD_STUB_SOURCES([zlibtclStubLib.c])
 TEA_ADD_SOURCES([zlibtclStubLib.c])
diff -ur tkimg-20081115/libz/tcl/Makefile.in tkimg-20081115.libz/libz/tcl/Makefile.in
--- tkimg-20081115/libz/tcl/Makefile.in	2008-10-23 18:09:37.000000000 +0200
+++ tkimg-20081115.libz/libz/tcl/Makefile.in	2008-11-15 18:24:13.000000000 +0100
@@ -33,8 +33,8 @@
 # $(srcdir) or in the generic, win or unix subdirectory.
 #========================================================================
 
-PKG_SOURCES	= @PKG_SOURCES@
-PKG_OBJECTS	= @PKG_OBJECTS@
+PKG_SOURCES	= zlibtcl.c zlibtclStubInit.c
+PKG_OBJECTS	= zlibtcl.o zlibtclStubInit.o
 
 PKG_STUB_SOURCES = @PKG_STUB_SOURCES@
 PKG_STUB_OBJECTS = @PKG_STUB_OBJECTS@
@@ -106,7 +106,7 @@
 RANLIB_STUB	= @RANLIB_STUB@
 SHLIB_CFLAGS	= @SHLIB_CFLAGS@
 SHLIB_LD	= @SHLIB_LD@
-SHLIB_LD_LIBS	= @SHLIB_LD_LIBS@
+SHLIB_LD_LIBS	= @SHLIB_LD_LIBS@ -lz
 STLIB_LD	= @STLIB_LD@
 TCL_DEFS	= @TCL_DEFS@
 TCL_BIN_DIR	= @TCL_BIN_DIR@
diff -ur tkimg-20081115/libz/tcl/zlibtclDecls.h tkimg-20081115.libz/libz/tcl/zlibtclDecls.h
--- tkimg-20081115/libz/tcl/zlibtclDecls.h	2008-10-22 12:55:37.000000000 +0200
+++ tkimg-20081115.libz/libz/tcl/zlibtclDecls.h	2008-11-15 18:15:01.000000000 +0100
@@ -17,7 +17,7 @@
 
 #include <tcl.h>
 #include <zlibtclDeclsMask.h>
-#include <../zlib.h>
+#include </usr/include/zlib.h>
 #include <zlibtclDeclsUnmask.h>
 
 /* !BEGIN!: Do not edit below this line. */
