diff -ur tkimg-20081115/libjpeg/tcl/jpegtclDecls.h tkimg-20081115.jpg/libjpeg/tcl/jpegtclDecls.h
--- tkimg-20081115/libjpeg/tcl/jpegtclDecls.h	2008-10-22 12:55:37.000000000 +0200
+++ tkimg-20081115.jpg/libjpeg/tcl/jpegtclDecls.h	2008-11-16 10:05:19.000000000 +0100
@@ -19,10 +19,10 @@
 /* undef Tcl macros that conflict with libjpeg stuff (sigh) */
 #undef EXTERN
 
-#include <jpegtclDeclsMask.h>
-#include <../jpeglib.h>
-#include <../jerror.h>
-#include <jpegtclDeclsUnmask.h>
+#include "jpegtclDeclsMask.h"
+#include </usr/include/jpeglib.h>
+#include </usr/include/jerror.h>
+#include "jpegtclDeclsUnmask.h"
 
 /*
  * And recreate the definition of "tcl.h", we need it below.
diff -ur tkimg-20081115/libjpeg/tcl/Makefile.in tkimg-20081115.jpg/libjpeg/tcl/Makefile.in
--- tkimg-20081115/libjpeg/tcl/Makefile.in	2008-10-23 18:09:37.000000000 +0200
+++ tkimg-20081115.jpg/libjpeg/tcl/Makefile.in	2008-11-16 10:04:25.000000000 +0100
@@ -33,8 +33,8 @@
 # $(srcdir) or in the generic, win or unix subdirectory.
 #========================================================================
 
-PKG_SOURCES	= @PKG_SOURCES@
-PKG_OBJECTS	= @PKG_OBJECTS@
+PKG_SOURCES	= jpegtcl.c jpegtclStubInit.c
+PKG_OBJECTS	= jpegtcl.o jpegtclStubInit.o
 
 PKG_STUB_SOURCES = @PKG_STUB_SOURCES@
 PKG_STUB_OBJECTS = @PKG_STUB_OBJECTS@
@@ -106,7 +106,7 @@
 RANLIB_STUB	= @RANLIB_STUB@
 SHLIB_CFLAGS	= @SHLIB_CFLAGS@
 SHLIB_LD	= @SHLIB_LD@
-SHLIB_LD_LIBS	= @SHLIB_LD_LIBS@
+SHLIB_LD_LIBS	= @SHLIB_LD_LIBS@ -ljpeg
 STLIB_LD	= @STLIB_LD@
 TCL_DEFS	= @TCL_DEFS@
 TCL_BIN_DIR	= @TCL_BIN_DIR@
